apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: auth

resources:
  - ../../base/auth

secretGenerator:
  - name: authelia-db
    namespace: auth
    files:
      - password=secrets/authelia_db_password.encrypted
    literals:
      - username=authelia
  - name: lldap-db
    namespace: auth
    files:
      - password=secrets/lldap_db_password.encrypted
    literals:
      - username=lldap
  - name: authelia
    namespace: auth
    envs:
      - secrets/authelia.env.encrypted
    files:
      - OIDC_JWKS_PRIVATE_KEY=secrets/oidc_jwks_private_key.encrypted
  - name: lldap
    namespace: auth
    envs:
      - secrets/lldap.env.encrypted
  - name: smtp
    namespace: auth
    files:
      - username=secrets/smtp_username.encrypted
      - password=secrets/smtp_password.encrypted
  - name: redis
    namespace: auth
    files:
      - password=secrets/redis_password.encrypted
