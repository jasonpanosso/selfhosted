apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: auth

secretGenerator:
  - name: authelia-db
    files:
      - password=authelia_db_password.encrypted
    literals:
      - username=authelia
  - name: lldap-db
    files:
      - password=lldap_db_password.encrypted
    literals:
      - username=lldap
  - name: authelia
    envs:
      - authelia.env.encrypted
    files:
      - OIDC_JWKS_PRIVATE_KEY=oidc_jwks_private_key.encrypted
  - name: lldap
    envs:
      - lldap.env.encrypted
  - name: smtp
    files:
      - username=smtp_username.encrypted
      - password=smtp_password.encrypted
  - name: redis
    files:
      - password=redis_password.encrypted
  - name: lldap-user-configs
    files:
      - me.json=lldapUserConfigMe.json.encrypted
      - passwordReset.json=lldapUserConfigPasswordReset.json.encrypted
      - readonly.json=lldapUserConfigReadOnly.json.encrypted
  - name: lldap-group-configs
    files:
      - admins.json=lldapGroupConfigAdmins.json.encrypted
      - jellyfinAdmins.json=lldapGroupConfigJellyfinAdmins.json.encrypted
      - jellyfinUsers.json=lldapGroupConfigJellyfinUsers.json.encrypted
