apiVersion: v1
kind: ConfigMap
metadata:
  name: {{.Chart.Name}}-env
data:
  AUTHELIA_IDENTITY_VALIDATION_RESET_PASSWORD_JWT_SECRET_FILE: /config/secrets/JWT_TOKEN
  AUTHELIA_SESSION_SECRET_FILE: /config/secrets/SESSION_KEY
  AUTHELIA_SESSION_REDIS_PASSWORD_FILE: /config/secrets/REDIS_PASSWORD
  AUTHELIA_SESSION_REDIS_HIGH_AVAILABILITY_SENTINEL_PASSWORD_FILE: /config/secrets/REDIS_PASSWORD
  AUTHELIA_AUTHENTICATION_BACKEND_LDAP_PASSWORD_FILE: /config/secrets/LDAP_PASSWORD
  AUTHELIA_STORAGE_ENCRYPTION_KEY_FILE: /config/secrets/ENCRYPTION_KEY
  AUTHELIA_STORAGE_POSTGRES_PASSWORD_FILE: /config/secrets/POSTGRES_PASSWORD
  AUTHELIA_IDENTITY_PROVIDERS_OIDC_HMAC_SECRET_FILE: /config/secrets/OIDC_HMAC_SECRET
  AUTHELIA_NOTIFIER_SMTP_PASSWORD: /config/secrets/SMTP_PASSWORD
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{.Chart.Name}}-config
data:
  configuration.yaml: |-
{{.Files.Get "files/authelia-config.yaml" | indent 4}}
